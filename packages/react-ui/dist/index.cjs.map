{"version":3,"sources":["../src/index.ts","../src/look-inside/LookInsidePanel.tsx","../src/look-inside/CollapsibleSection.tsx","../src/look-inside/utils.ts","../src/look-inside/sections/ContextWindowSection.tsx","../src/look-inside/sections/TokenBreakdownSection.tsx","../src/look-inside/sections/SystemPromptSection.tsx","../src/look-inside/sections/ToolsSection.tsx","../src/look-inside/sections/GenericPluginSection.tsx","../src/look-inside/plugins/WorkingMemoryRenderer.tsx","../src/look-inside/plugins/InContextMemoryRenderer.tsx","../src/look-inside/plugins/PersistentInstructionsRenderer.tsx","../src/look-inside/plugins/UserInfoRenderer.tsx","../src/look-inside/plugins/registry.ts","../src/look-inside/ViewContextContent.tsx"],"sourcesContent":["/**\n * @everworker/react-ui — Shared React UI components for OneRingAI agent apps.\n */\n\n// Look Inside components\nexport * from './look-inside/index';\n","/**\n * LookInsidePanel — Main container that auto-renders plugin sections.\n *\n * Takes a serializable IContextSnapshot and renders all sections.\n * Plugin sections are auto-discovered from the snapshot — no hardcoding.\n */\n\nimport React, { useMemo, useState, useCallback, useRef } from 'react';\nimport type { LookInsidePanelProps, PluginRenderer, IPluginSnapshot } from './types';\nimport { CollapsibleSection } from './CollapsibleSection';\nimport { ContextWindowSection } from './sections/ContextWindowSection';\nimport { TokenBreakdownSection } from './sections/TokenBreakdownSection';\nimport { SystemPromptSection } from './sections/SystemPromptSection';\nimport { ToolsSection } from './sections/ToolsSection';\nimport { GenericPluginSection } from './sections/GenericPluginSection';\nimport { getPluginRenderer } from './plugins/registry';\n\nexport const LookInsidePanel: React.FC<LookInsidePanelProps> = ({\n  snapshot,\n  loading = false,\n  agentName,\n  headerActions,\n  onViewFullContext,\n  onForceCompaction,\n  className,\n  pluginRenderers,\n  defaultExpanded = ['context', 'tools'],\n  onMemoryEntryClick,\n  memoryEntryValues,\n  loadingMemoryKey,\n}) => {\n  // Manage expanded state here so it survives snapshot refreshes.\n  // Use a ref to only initialize from defaultExpanded once.\n  const initialized = useRef(false);\n  const [expandedSet, setExpandedSet] = useState<Set<string>>(() => new Set(defaultExpanded));\n  if (!initialized.current) {\n    initialized.current = true;\n  }\n\n  const toggleSection = useCallback((id: string) => {\n    setExpandedSet((prev) => {\n      const next = new Set(prev);\n      if (next.has(id)) next.delete(id);\n      else next.add(id);\n      return next;\n    });\n  }, []);\n\n  const isSectionExpanded = useCallback((id: string) => expandedSet.has(id), [expandedSet]);\n  // Merge app-provided renderers with built-in registry\n  const resolveRenderer = useMemo(() => {\n    return (pluginName: string): PluginRenderer | null => {\n      // App-level override first\n      if (pluginRenderers?.[pluginName]) return pluginRenderers[pluginName];\n      // Then built-in registry\n      return getPluginRenderer(pluginName);\n    };\n  }, [pluginRenderers]);\n\n  if (loading) {\n    return (\n      <div className={`look-inside-panel look-inside-loading ${className ?? ''}`}>\n        <div className=\"look-inside-spinner\">Loading...</div>\n      </div>\n    );\n  }\n\n  if (!snapshot || !snapshot.available) {\n    return (\n      <div className={`look-inside-panel look-inside-unavailable ${className ?? ''}`}>\n        <div className=\"look-inside-muted\">Context not available</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`look-inside-panel ${className ?? ''}`}>\n      {/* Header */}\n      <div className=\"look-inside-header\">\n        <div className=\"look-inside-header-title\">\n          <span className=\"look-inside-title\">\n            {agentName ? `${agentName} — Look Inside` : 'Look Inside'}\n          </span>\n          <span className=\"look-inside-model-badge\">{snapshot.model}</span>\n        </div>\n        <div className=\"look-inside-header-actions\">\n          {onViewFullContext && (\n            <button\n              type=\"button\"\n              className=\"look-inside-btn look-inside-btn-secondary\"\n              onClick={onViewFullContext}\n            >\n              View Full Context\n            </button>\n          )}\n          {onForceCompaction && (\n            <button\n              type=\"button\"\n              className=\"look-inside-btn look-inside-btn-secondary\"\n              onClick={onForceCompaction}\n            >\n              Force Compaction\n            </button>\n          )}\n          {headerActions}\n        </div>\n      </div>\n\n      {/* Context Window */}\n      <CollapsibleSection\n        title=\"Context Window\"\n        id=\"context\"\n        onToggle={toggleSection}\n        expanded={isSectionExpanded('context')}\n        badge={`${snapshot.budget.utilizationPercent.toFixed(0)}%`}\n      >\n        <ContextWindowSection\n          budget={snapshot.budget}\n          messagesCount={snapshot.messagesCount}\n          toolCallsCount={snapshot.toolCallsCount}\n          strategy={snapshot.strategy}\n        />\n      </CollapsibleSection>\n\n      {/* Token Breakdown */}\n      <CollapsibleSection\n        title=\"Token Breakdown\"\n        id=\"tokens\"\n        onToggle={toggleSection}\n        expanded={isSectionExpanded('tokens')}\n      >\n        <TokenBreakdownSection budget={snapshot.budget} />\n      </CollapsibleSection>\n\n      {/* System Prompt */}\n      <CollapsibleSection\n        title=\"System Prompt\"\n        id=\"system-prompt\"\n        onToggle={toggleSection}\n        expanded={isSectionExpanded('system-prompt')}\n      >\n        <SystemPromptSection content={snapshot.systemPrompt} />\n      </CollapsibleSection>\n\n      {/* Plugin Sections (auto-discovered) */}\n      {snapshot.plugins.map((plugin: IPluginSnapshot) => {\n        const Renderer = resolveRenderer(plugin.name) ?? GenericPluginSection;\n        // Pass memory entry props to working_memory renderer\n        const extraProps = plugin.name === 'working_memory'\n          ? { onEntryClick: onMemoryEntryClick, entryValues: memoryEntryValues, loadingEntryKey: loadingMemoryKey }\n          : {};\n        return (\n          <CollapsibleSection\n            key={plugin.name}\n            title={plugin.displayName}\n            id={`plugin-${plugin.name}`}\n            onToggle={toggleSection}\n            expanded={isSectionExpanded(`plugin-${plugin.name}`)}\n            badge={plugin.tokenSize > 0 ? `${plugin.tokenSize} tok` : undefined}\n          >\n            <Renderer plugin={plugin} {...extraProps} />\n          </CollapsibleSection>\n        );\n      })}\n\n      {/* Tools */}\n      <CollapsibleSection\n        title=\"Tools\"\n        id=\"tools\"\n        onToggle={toggleSection}\n        expanded={isSectionExpanded('tools')}\n        badge={snapshot.tools.length}\n      >\n        <ToolsSection tools={snapshot.tools} />\n      </CollapsibleSection>\n    </div>\n  );\n};\n","/**\n * CollapsibleSection — Reusable expand/collapse wrapper.\n * Supports both uncontrolled (defaultExpanded) and controlled (expanded + onToggle) modes.\n */\n\nimport React, { useState, useCallback } from 'react';\nimport type { CollapsibleSectionProps } from './types';\n\nexport const CollapsibleSection: React.FC<CollapsibleSectionProps> = ({\n  title,\n  id,\n  defaultExpanded = false,\n  expanded: controlledExpanded,\n  onToggle,\n  badge,\n  icon,\n  children,\n  className,\n}) => {\n  // Uncontrolled fallback\n  const [internalExpanded, setInternalExpanded] = useState(defaultExpanded);\n\n  const isControlled = controlledExpanded !== undefined;\n  const expanded = isControlled ? controlledExpanded : internalExpanded;\n\n  const toggle = useCallback(() => {\n    if (onToggle) {\n      onToggle(id);\n    } else {\n      setInternalExpanded((prev) => !prev);\n    }\n  }, [id, onToggle]);\n\n  return (\n    <div\n      className={`look-inside-section ${expanded ? 'look-inside-section-expanded' : ''} ${className ?? ''}`}\n      data-section-id={id}\n    >\n      <button\n        type=\"button\"\n        className=\"look-inside-section-header\"\n        onClick={toggle}\n        aria-expanded={expanded}\n      >\n        <span className=\"look-inside-section-chevron\">\n          {expanded ? '▾' : '▸'}\n        </span>\n        {icon && <span className=\"look-inside-section-icon\">{icon}</span>}\n        <span className=\"look-inside-section-title\">{title}</span>\n        {badge !== undefined && badge !== null && (\n          <span className=\"look-inside-section-badge\">{badge}</span>\n        )}\n      </button>\n      {expanded && (\n        <div className=\"look-inside-section-content\">{children}</div>\n      )}\n    </div>\n  );\n};\n","/**\n * Utility functions for Look Inside components.\n */\n\n/**\n * Format bytes to a human-readable string.\n */\nexport function formatBytes(bytes: number): string {\n  if (bytes === 0) return '0 B';\n  const units = ['B', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(1024));\n  const value = bytes / Math.pow(1024, i);\n  return `${value.toFixed(i > 0 ? 1 : 0)} ${units[i]}`;\n}\n\n/**\n * Format a number with comma separators.\n */\nexport function formatNumber(n: number): string {\n  return n.toLocaleString();\n}\n\n/**\n * Get a CSS color class name based on utilization percentage.\n */\nexport function getUtilizationColor(percent: number): string {\n  if (percent >= 90) return 'look-inside-utilization-critical';\n  if (percent >= 70) return 'look-inside-utilization-warning';\n  return 'look-inside-utilization-normal';\n}\n\n/**\n * Get a utilization label.\n */\nexport function getUtilizationLabel(percent: number): string {\n  if (percent >= 90) return 'Critical';\n  if (percent >= 70) return 'Warning';\n  return 'Normal';\n}\n\n/**\n * Truncate text with ellipsis.\n */\nexport function truncateText(text: string, maxLength: number): string {\n  if (text.length <= maxLength) return text;\n  return text.substring(0, maxLength - 3) + '...';\n}\n\n/**\n * Format a plugin name to display name.\n * e.g., 'working_memory' → 'Working Memory'\n */\nexport function formatPluginName(name: string): string {\n  return name\n    .split('_')\n    .map((word) => word.charAt(0).toUpperCase() + word.slice(1))\n    .join(' ');\n}\n\n/**\n * Format a timestamp to a relative or absolute string.\n */\nexport function formatTimestamp(ts: number): string {\n  const now = Date.now();\n  const diff = now - ts;\n\n  if (diff < 60000) return 'just now';\n  if (diff < 3600000) return `${Math.floor(diff / 60000)}m ago`;\n  if (diff < 86400000) return `${Math.floor(diff / 3600000)}h ago`;\n\n  return new Date(ts).toLocaleDateString();\n}\n","/**\n * ContextWindowSection — Progress bar + token stats.\n */\n\nimport React from 'react';\nimport type { ContextBudget } from '@everworker/oneringai';\nimport { formatNumber, getUtilizationColor, getUtilizationLabel } from '../utils';\n\ninterface ContextWindowSectionProps {\n  budget: ContextBudget;\n  messagesCount: number;\n  toolCallsCount: number;\n  strategy: string;\n}\n\nexport const ContextWindowSection: React.FC<ContextWindowSectionProps> = ({\n  budget,\n  messagesCount,\n  toolCallsCount,\n  strategy,\n}) => {\n  const colorClass = getUtilizationColor(budget.utilizationPercent);\n  const label = getUtilizationLabel(budget.utilizationPercent);\n  const pct = Math.min(budget.utilizationPercent, 100);\n\n  return (\n    <div className=\"look-inside-context-window\">\n      <div className=\"look-inside-progress-bar-container\">\n        <div\n          className={`look-inside-progress-bar ${colorClass}`}\n          style={{ width: `${pct}%` }}\n          role=\"progressbar\"\n          aria-valuenow={pct}\n          aria-valuemin={0}\n          aria-valuemax={100}\n        />\n      </div>\n      <div className=\"look-inside-context-stats\">\n        <span className={`look-inside-utilization-label ${colorClass}`}>\n          {pct.toFixed(1)}% — {label}\n        </span>\n        <span className=\"look-inside-context-stat\">\n          {formatNumber(budget.totalUsed)} / {formatNumber(budget.maxTokens)} tokens\n        </span>\n      </div>\n      <div className=\"look-inside-context-details\">\n        <div className=\"look-inside-stat-row\">\n          <span className=\"look-inside-stat-label\">Available</span>\n          <span className=\"look-inside-stat-value\">{formatNumber(budget.available)} tokens</span>\n        </div>\n        <div className=\"look-inside-stat-row\">\n          <span className=\"look-inside-stat-label\">Response Reserve</span>\n          <span className=\"look-inside-stat-value\">{formatNumber(budget.responseReserve)} tokens</span>\n        </div>\n        <div className=\"look-inside-stat-row\">\n          <span className=\"look-inside-stat-label\">Messages</span>\n          <span className=\"look-inside-stat-value\">{messagesCount}</span>\n        </div>\n        <div className=\"look-inside-stat-row\">\n          <span className=\"look-inside-stat-label\">Tool Calls</span>\n          <span className=\"look-inside-stat-value\">{toolCallsCount}</span>\n        </div>\n        <div className=\"look-inside-stat-row\">\n          <span className=\"look-inside-stat-label\">Strategy</span>\n          <span className=\"look-inside-stat-value\">{strategy}</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n","/**\n * TokenBreakdownSection — Bar chart from budget.breakdown.\n */\n\nimport React from 'react';\nimport type { ContextBudget } from '@everworker/oneringai';\nimport { formatNumber } from '../utils';\n\ninterface TokenBreakdownSectionProps {\n  budget: ContextBudget;\n}\n\ninterface BreakdownItem {\n  name: string;\n  tokens: number;\n  percent: number;\n}\n\nexport const TokenBreakdownSection: React.FC<TokenBreakdownSectionProps> = ({\n  budget,\n}) => {\n  const { breakdown } = budget;\n  const total = budget.totalUsed || 1; // avoid divide by zero\n\n  const items: BreakdownItem[] = [\n    { name: 'System Prompt', tokens: breakdown.systemPrompt, percent: (breakdown.systemPrompt / total) * 100 },\n    { name: 'Persistent Instructions', tokens: breakdown.persistentInstructions, percent: (breakdown.persistentInstructions / total) * 100 },\n    { name: 'Plugin Instructions', tokens: breakdown.pluginInstructions, percent: (breakdown.pluginInstructions / total) * 100 },\n    ...Object.entries(breakdown.pluginContents).map(([name, tokens]) => ({\n      name: `Plugin: ${formatPluginLabel(name)}`,\n      tokens,\n      percent: (tokens / total) * 100,\n    })),\n    { name: 'Tools', tokens: breakdown.tools, percent: (breakdown.tools / total) * 100 },\n    { name: 'Conversation', tokens: breakdown.conversation, percent: (breakdown.conversation / total) * 100 },\n    { name: 'Current Input', tokens: breakdown.currentInput, percent: (breakdown.currentInput / total) * 100 },\n  ].filter((item) => item.tokens > 0);\n\n  return (\n    <div className=\"look-inside-token-breakdown\">\n      {items.map((item) => (\n        <div key={item.name} className=\"look-inside-breakdown-row\">\n          <div className=\"look-inside-breakdown-label\">\n            <span className=\"look-inside-breakdown-name\">{item.name}</span>\n            <span className=\"look-inside-breakdown-tokens\">\n              {formatNumber(item.tokens)} ({item.percent.toFixed(1)}%)\n            </span>\n          </div>\n          <div className=\"look-inside-breakdown-bar-container\">\n            <div\n              className=\"look-inside-breakdown-bar\"\n              style={{ width: `${Math.max(item.percent, 0.5)}%` }}\n            />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nfunction formatPluginLabel(name: string): string {\n  return name\n    .split('_')\n    .map((w) => w.charAt(0).toUpperCase() + w.slice(1))\n    .join(' ');\n}\n","/**\n * SystemPromptSection — Code block display for system prompt.\n */\n\nimport React from 'react';\n\ninterface SystemPromptSectionProps {\n  content: string | null;\n}\n\nexport const SystemPromptSection: React.FC<SystemPromptSectionProps> = ({\n  content,\n}) => {\n  if (!content) {\n    return (\n      <div className=\"look-inside-system-prompt\">\n        <span className=\"look-inside-muted\">No system prompt configured</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"look-inside-system-prompt\">\n      <pre className=\"look-inside-code-block\">\n        <code>{content}</code>\n      </pre>\n    </div>\n  );\n};\n","/**\n * ToolsSection — Tool list with enabled/disabled badges and call counts.\n */\n\nimport React, { useState, useMemo } from 'react';\nimport type { IToolSnapshot } from '../types';\nimport { truncateText } from '../utils';\n\ninterface ToolsSectionProps {\n  tools: IToolSnapshot[];\n}\n\nexport const ToolsSection: React.FC<ToolsSectionProps> = ({ tools }) => {\n  const [filter, setFilter] = useState('');\n\n  const filtered = useMemo(() => {\n    if (!filter) return tools;\n    const lower = filter.toLowerCase();\n    return tools.filter(\n      (t) =>\n        t.name.toLowerCase().includes(lower) ||\n        t.description.toLowerCase().includes(lower) ||\n        (t.namespace && t.namespace.toLowerCase().includes(lower))\n    );\n  }, [tools, filter]);\n\n  const enabledCount = tools.filter((t) => t.enabled).length;\n\n  return (\n    <div className=\"look-inside-tools\">\n      <div className=\"look-inside-tools-header\">\n        <span className=\"look-inside-tools-count\">\n          {enabledCount} / {tools.length} enabled\n        </span>\n        {tools.length > 5 && (\n          <input\n            type=\"text\"\n            className=\"look-inside-tools-filter\"\n            placeholder=\"Filter tools...\"\n            value={filter}\n            onChange={(e) => setFilter(e.target.value)}\n          />\n        )}\n      </div>\n      <div className=\"look-inside-tools-list\">\n        {filtered.map((tool) => (\n          <div\n            key={tool.name}\n            className={`look-inside-tool-item ${!tool.enabled ? 'look-inside-tool-disabled' : ''}`}\n          >\n            <div className=\"look-inside-tool-name\">\n              <span className={`look-inside-tool-badge ${tool.enabled ? 'look-inside-badge-on' : 'look-inside-badge-off'}`}>\n                {tool.enabled ? 'ON' : 'OFF'}\n              </span>\n              <code>{tool.name}</code>\n              {tool.namespace && (\n                <span className=\"look-inside-tool-namespace\">{tool.namespace}</span>\n              )}\n            </div>\n            <div className=\"look-inside-tool-meta\">\n              <span className=\"look-inside-tool-desc\">\n                {truncateText(tool.description, 120)}\n              </span>\n              {tool.callCount > 0 && (\n                <span className=\"look-inside-tool-calls\">\n                  {tool.callCount} call{tool.callCount !== 1 ? 's' : ''}\n                </span>\n              )}\n            </div>\n          </div>\n        ))}\n        {filtered.length === 0 && (\n          <div className=\"look-inside-muted\">\n            {filter ? 'No tools match filter' : 'No tools registered'}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n","/**\n * GenericPluginSection — Fallback renderer for plugins without a custom renderer.\n * Shows formatted content (if available) or raw JSON contents.\n */\n\nimport React from 'react';\nimport type { PluginRendererProps } from '../types';\nimport { formatNumber } from '../utils';\n\nexport const GenericPluginSection: React.FC<PluginRendererProps> = ({\n  plugin,\n}) => {\n  return (\n    <div className=\"look-inside-generic-plugin\">\n      <div className=\"look-inside-plugin-meta\">\n        <span className=\"look-inside-stat-label\">Tokens</span>\n        <span className=\"look-inside-stat-value\">{formatNumber(plugin.tokenSize)}</span>\n        {plugin.compactable && (\n          <span className=\"look-inside-badge-compactable\">compactable</span>\n        )}\n      </div>\n      {plugin.formattedContent ? (\n        <pre className=\"look-inside-code-block\">\n          <code>{plugin.formattedContent}</code>\n        </pre>\n      ) : plugin.contents != null ? (\n        <pre className=\"look-inside-code-block\">\n          <code>{JSON.stringify(plugin.contents, null, 2)}</code>\n        </pre>\n      ) : (\n        <div className=\"look-inside-muted\">No content</div>\n      )}\n    </div>\n  );\n};\n","/**\n * WorkingMemoryRenderer — Displays working memory entries with key, scope, priority.\n * Supports optional click-to-expand for lazy value loading (e.g., via IPC in Hosea).\n */\n\nimport React from 'react';\nimport type { PluginRendererProps } from '../types';\nimport { formatBytes, formatTimestamp } from '../utils';\n\ninterface WorkingMemoryEntry {\n  key: string;\n  description: string;\n  scope: unknown;\n  basePriority?: string;\n  sizeBytes?: number;\n  tier?: string;\n  updatedAt?: number;\n}\n\ninterface WorkingMemoryContents {\n  entries: WorkingMemoryEntry[];\n}\n\nexport const WorkingMemoryRenderer: React.FC<PluginRendererProps> = ({\n  plugin,\n  onEntryClick,\n  entryValues,\n  loadingEntryKey,\n}) => {\n  // Handle both formats: array directly (from getAll()) or wrapped { entries }\n  const raw = plugin.contents;\n  const entries: WorkingMemoryEntry[] = Array.isArray(raw)\n    ? raw\n    : (raw as WorkingMemoryContents | null)?.entries ?? [];\n\n  if (entries.length === 0) {\n    return <div className=\"look-inside-muted\">No entries in working memory</div>;\n  }\n\n  const isClickable = !!onEntryClick;\n\n  return (\n    <div className=\"look-inside-working-memory\">\n      <div className=\"look-inside-entry-count\">\n        {entries.length} entr{entries.length === 1 ? 'y' : 'ies'}\n      </div>\n      <div className=\"look-inside-entry-list\">\n        {entries.map((entry) => {\n          const scope = typeof entry.scope === 'object'\n            ? JSON.stringify(entry.scope)\n            : String(entry.scope ?? 'session');\n\n          const isLoading = loadingEntryKey === entry.key;\n          const hasValue = entryValues?.has(entry.key) ?? false;\n          const isExpanded = hasValue || isLoading;\n\n          return (\n            <div\n              key={entry.key}\n              className={`look-inside-entry-item ${isClickable ? 'look-inside-entry-clickable' : ''} ${isExpanded ? 'look-inside-entry-expanded' : ''}`}\n              onClick={isClickable ? () => onEntryClick(entry.key) : undefined}\n              role={isClickable ? 'button' : undefined}\n              tabIndex={isClickable ? 0 : undefined}\n            >\n              <div className=\"look-inside-entry-header\">\n                <code className=\"look-inside-entry-key\">{entry.key}</code>\n                <span className={`look-inside-priority look-inside-priority-${entry.basePriority ?? 'normal'}`}>\n                  {entry.basePriority ?? 'normal'}\n                </span>\n              </div>\n              <div className=\"look-inside-entry-desc\">{entry.description}</div>\n              <div className=\"look-inside-entry-meta\">\n                <span>Scope: {scope}</span>\n                {entry.tier && <span>Tier: {entry.tier}</span>}\n                {entry.sizeBytes != null && (\n                  <span>Size: {formatBytes(entry.sizeBytes)}</span>\n                )}\n                {entry.updatedAt && (\n                  <span>{formatTimestamp(entry.updatedAt)}</span>\n                )}\n              </div>\n              {/* Expanded value (lazy-loaded) */}\n              {isLoading && (\n                <div className=\"look-inside-entry-loading\">Loading value...</div>\n              )}\n              {hasValue && !isLoading && (\n                <pre className=\"look-inside-code-block-sm\">\n                  {JSON.stringify(entryValues!.get(entry.key), null, 2)}\n                </pre>\n              )}\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","/**\n * InContextMemoryRenderer — Displays in-context memory entries with priority badges.\n */\n\nimport React from 'react';\nimport type { PluginRendererProps } from '../types';\nimport { formatTimestamp } from '../utils';\n\ninterface InContextEntry {\n  key: string;\n  description: string;\n  priority: string;\n  updatedAt: number;\n  value: unknown;\n}\n\nexport const InContextMemoryRenderer: React.FC<PluginRendererProps> = ({\n  plugin,\n}) => {\n  const entries = (plugin.contents as InContextEntry[] | null) ?? [];\n\n  if (entries.length === 0) {\n    return <div className=\"look-inside-muted\">No entries in context memory</div>;\n  }\n\n  return (\n    <div className=\"look-inside-in-context-memory\">\n      <div className=\"look-inside-entry-count\">\n        {entries.length} entr{entries.length === 1 ? 'y' : 'ies'}\n      </div>\n      <div className=\"look-inside-entry-list\">\n        {entries.map((entry) => (\n          <div key={entry.key} className=\"look-inside-entry-item\">\n            <div className=\"look-inside-entry-header\">\n              <code className=\"look-inside-entry-key\">{entry.key}</code>\n              <span className={`look-inside-priority look-inside-priority-${entry.priority}`}>\n                {entry.priority}\n              </span>\n            </div>\n            <div className=\"look-inside-entry-desc\">{entry.description}</div>\n            <div className=\"look-inside-entry-value\">\n              <pre className=\"look-inside-code-block-sm\">\n                <code>\n                  {typeof entry.value === 'string'\n                    ? entry.value\n                    : JSON.stringify(entry.value, null, 2)}\n                </code>\n              </pre>\n            </div>\n            <div className=\"look-inside-entry-meta\">\n              <span>{formatTimestamp(entry.updatedAt)}</span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n","/**\n * PersistentInstructionsRenderer — Displays persistent instruction entries.\n */\n\nimport React from 'react';\nimport type { PluginRendererProps } from '../types';\nimport { formatTimestamp } from '../utils';\n\ninterface InstructionEntry {\n  id: string;\n  content: string;\n  createdAt: number;\n  updatedAt: number;\n}\n\nexport const PersistentInstructionsRenderer: React.FC<PluginRendererProps> = ({\n  plugin,\n}) => {\n  const entries = (plugin.contents as InstructionEntry[] | null) ?? [];\n\n  if (entries.length === 0) {\n    return <div className=\"look-inside-muted\">No persistent instructions</div>;\n  }\n\n  return (\n    <div className=\"look-inside-persistent-instructions\">\n      <div className=\"look-inside-entry-count\">\n        {entries.length} instruction{entries.length !== 1 ? 's' : ''}\n      </div>\n      <div className=\"look-inside-entry-list\">\n        {entries.map((entry) => (\n          <div key={entry.id} className=\"look-inside-entry-item\">\n            <div className=\"look-inside-entry-header\">\n              <code className=\"look-inside-entry-key\">{entry.id}</code>\n              <span className=\"look-inside-entry-meta-inline\">\n                {formatTimestamp(entry.updatedAt)}\n              </span>\n            </div>\n            <pre className=\"look-inside-code-block-sm\">\n              <code>{entry.content}</code>\n            </pre>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n","/**\n * UserInfoRenderer — Displays user info entries.\n */\n\nimport React from 'react';\nimport type { PluginRendererProps } from '../types';\nimport { formatTimestamp } from '../utils';\n\ninterface UserInfoEntry {\n  key: string;\n  value: unknown;\n  valueType: string;\n  description?: string;\n  updatedAt: number;\n}\n\nexport const UserInfoRenderer: React.FC<PluginRendererProps> = ({\n  plugin,\n}) => {\n  const entries = (plugin.contents as UserInfoEntry[] | null) ?? [];\n\n  if (entries.length === 0) {\n    return <div className=\"look-inside-muted\">No user info stored</div>;\n  }\n\n  return (\n    <div className=\"look-inside-user-info\">\n      <div className=\"look-inside-entry-count\">\n        {entries.length} entr{entries.length === 1 ? 'y' : 'ies'}\n      </div>\n      <div className=\"look-inside-entry-list\">\n        {entries.map((entry) => (\n          <div key={entry.key} className=\"look-inside-entry-item\">\n            <div className=\"look-inside-entry-header\">\n              <code className=\"look-inside-entry-key\">{entry.key}</code>\n              <span className=\"look-inside-entry-type\">{entry.valueType}</span>\n            </div>\n            {entry.description && (\n              <div className=\"look-inside-entry-desc\">{entry.description}</div>\n            )}\n            <div className=\"look-inside-entry-value\">\n              <pre className=\"look-inside-code-block-sm\">\n                <code>\n                  {typeof entry.value === 'string'\n                    ? entry.value\n                    : JSON.stringify(entry.value, null, 2)}\n                </code>\n              </pre>\n            </div>\n            <div className=\"look-inside-entry-meta\">\n              <span>{formatTimestamp(entry.updatedAt)}</span>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n","/**\n * Plugin Renderer Registry — Maps plugin names to custom renderer components.\n *\n * Built-in renderers are registered by default. Apps can register\n * additional renderers for custom plugins.\n */\n\nimport type { PluginRenderer } from '../types';\nimport { WorkingMemoryRenderer } from './WorkingMemoryRenderer';\nimport { InContextMemoryRenderer } from './InContextMemoryRenderer';\nimport { PersistentInstructionsRenderer } from './PersistentInstructionsRenderer';\nimport { UserInfoRenderer } from './UserInfoRenderer';\n\nconst renderers = new Map<string, PluginRenderer>();\n\n// Register built-in renderers\nrenderers.set('working_memory', WorkingMemoryRenderer);\nrenderers.set('in_context_memory', InContextMemoryRenderer);\nrenderers.set('persistent_instructions', PersistentInstructionsRenderer);\nrenderers.set('user_info', UserInfoRenderer);\n\n/**\n * Register a custom plugin renderer.\n */\nexport function registerPluginRenderer(name: string, renderer: PluginRenderer): void {\n  renderers.set(name, renderer);\n}\n\n/**\n * Get the renderer for a plugin (or null for fallback to GenericPluginSection).\n */\nexport function getPluginRenderer(name: string): PluginRenderer | null {\n  return renderers.get(name) ?? null;\n}\n\n/**\n * Get all registered renderer names.\n */\nexport function getRegisteredPluginNames(): string[] {\n  return Array.from(renderers.keys());\n}\n","/**\n * ViewContextContent — \"View Full Context\" content (no modal wrapper).\n *\n * Renders the prepared context breakdown with named components,\n * token estimates, and a \"Copy All\" button. Apps provide their own modal.\n */\n\nimport React from 'react';\nimport type { ViewContextContentProps, IViewContextComponent } from './types';\nimport { formatNumber } from './utils';\n\nexport const ViewContextContent: React.FC<ViewContextContentProps> = ({\n  data,\n  loading = false,\n  error = null,\n  onCopyAll,\n  className,\n}) => {\n  if (loading) {\n    return (\n      <div className={`look-inside-view-context look-inside-loading ${className ?? ''}`}>\n        <div className=\"look-inside-spinner\">Preparing context...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className={`look-inside-view-context look-inside-error ${className ?? ''}`}>\n        <div className=\"look-inside-error-message\">{error}</div>\n      </div>\n    );\n  }\n\n  if (!data || !data.available) {\n    return (\n      <div className={`look-inside-view-context ${className ?? ''}`}>\n        <div className=\"look-inside-muted\">Context not available</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className={`look-inside-view-context ${className ?? ''}`}>\n      <div className=\"look-inside-view-context-header\">\n        <span className=\"look-inside-view-context-total\">\n          Total: {formatNumber(data.totalTokens)} tokens\n          ({data.components.length} component{data.components.length !== 1 ? 's' : ''})\n        </span>\n        {onCopyAll && (\n          <button\n            type=\"button\"\n            className=\"look-inside-btn look-inside-btn-secondary\"\n            onClick={onCopyAll}\n          >\n            Copy All\n          </button>\n        )}\n      </div>\n      <div className=\"look-inside-view-context-components\">\n        {data.components.map((component: IViewContextComponent, index: number) => (\n          <div key={index} className=\"look-inside-view-context-component\">\n            <div className=\"look-inside-view-context-component-header\">\n              <span className=\"look-inside-view-context-component-name\">\n                {component.name}\n              </span>\n              <span className=\"look-inside-view-context-component-tokens\">\n                ~{formatNumber(component.tokenEstimate)} tokens\n              </span>\n            </div>\n            <pre className=\"look-inside-code-block\">\n              <code>{component.content}</code>\n            </pre>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n"],"mappings":"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","names":["import_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_react","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime","import_jsx_runtime"]}